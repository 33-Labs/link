import Head from 'next/head'
import * as fcl from "@onflow/fcl"

import Link from 'next/link'
import NftLinkBoard from '../components/NftLinkBoard'
import { useState } from 'react'
import { classNames } from '../lib/utils'

export default function Home(props) {
  const user = props.user
  const account = user && user.loggedIn ? user.addr : null

  const [showNftBoard, setShowNftBoard] = useState(true)

  return (
    <div className="container mx-auto max-w-[920px] min-w-[380px] px-6">
      <Head>
        <title>Link | NFT catalog link tool</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      {!account ?
        <div className="w-full mt-10 flex flex-col gap-y-8 items-center justify-center">
          <label className="font-flow font-bold text-3xl sm:text-5xl">Explore <span className='text-emerald'>#onFlow</span></label>
          <label className="-mt-4 font-flow font-bold text-3xl sm:text-5xl">with the Right ðŸ”—<span className='text-emerald'>Link</span></label>
          <div className="-mt-2 flex flex-col justify-center items-center">
            <label className="font-flow text-base sm:text-lg">Make your experiences <span className='text-emerald'>#onFlow</span></label>
            <label className="font-flow text-base sm:text-lg">smoother with the right link</label>
            <Link href="/about">
              <label className="text-emerald font-bold cursor-pointer">
                ðŸ‘‰Click to know moreðŸ‘ˆ
              </label>
            </Link>
          </div>
          <button
            type="button"
            className="mt-3 h-12 px-6 text-base rounded-2xl font-flow font-semibold shadow-sm text-black bg-emerald hover:bg-emerald-dark"
            onClick={fcl.logIn}
          >
            <label>Connect Wallet</label>
          </button>
        </div>
        : null
      }
      {
        account ?
          <div className="w-full flex justify-center mb-8">
            <div className="flex gap-x-1 bg-emerald-light w-80 h-10
        rounded-lg justify-center p-1
        ">
              <button
                className={classNames(
                  showNftBoard ? "bg-emerald text-black" : "bg-emerald-light text-gray-500",
                  `basis-1/2 rounded-md font-flow font-semibold`
                )
                }
                onClick={() => {
                  if (!showNftBoard) {
                    setShowNftBoard(true)
                  }
                }}
              >
                NFT
              </button>
              <button
                className={classNames(
                  !showNftBoard ? "bg-emerald text-black" : "bg-emerald-light text-gray-500",
                  `basis-1/2 rounded-md font-flow font-semibold`
                )
                }
                onClick={() => {
                  if (showNftBoard) {
                    setShowNftBoard(false)
                  }
                }}
              >
                FT
              </button>
            </div>
          </div> : null
      }
      {
        account && showNftBoard ?
          <NftLinkBoard account={account} /> : null
      }
    </div>
  )
}
